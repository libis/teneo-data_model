<?xml version="1.0" encoding="UTF-8"?>
<fdd:FDD id="fdd000260" titleName="Ogg Speex Audio Format" shortName="Ogg_SPX" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:fdd="http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1" xsi:schemaLocation="http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1 http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1/fdd-v1-2.xsd">
	<fdd:properties>
		<fdd:gdfrGenreSelection>
			<fdd:gdfrGenre>sound</fdd:gdfrGenre>
		</fdd:gdfrGenreSelection>
		<fdd:formatCategories>
			<fdd:category>file-format</fdd:category>
			<fdd:category>encoding</fdd:category>
		</fdd:formatCategories>
		<fdd:gdfrForm>binary</fdd:gdfrForm>
		<fdd:gdfrBasis>sampled</fdd:gdfrBasis>
		<fdd:updates>
			<fdd:date>2024-03-01</fdd:date>
		</fdd:updates>
		<fdd:draftStatus>Full</fdd:draftStatus>
	</fdd:properties>
	<fdd:identificationAndDescription>
		<fdd:fullName>Ogg Speex Audio Format</fdd:fullName>
		<fdd:keywords>
			<fdd:keyword>audio formats</fdd:keyword>
		</fdd:keywords>
		<fdd:description>File format and bitstream encoding for for spoken content, targeted at a wide range of devices other than mobile phones.</fdd:description>
		<fdd:shortDescription>File format and bitstream encoding for for spoken content, targeted at a wide range of devices other than mobile phones.</fdd:shortDescription>
		<fdd:productionPhase>Generally used for final-state, end-user delivery.</fdd:productionPhase>
		<fdd:relationships>
			<fdd:relationship>
				<fdd:typeOfRelationship>Subtype of</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000026</fdd:id>
					<fdd:shortName>Ogg</fdd:shortName>
					<fdd:titleName>Ogg File Format</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>Contains</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000259</fdd:id>
					<fdd:shortName>SPX_1_2</fdd:shortName>
					<fdd:titleName>Speex Audio Codec, Version 1.2</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
		</fdd:relationships>
	</fdd:identificationAndDescription>
	<fdd:localUse>
		<fdd:experience>The Library of Congress has a small amount of Ogg Speex Audio Format in its collections.</fdd:experience>
		<fdd:preference>See the Library of Congress Recommended Formats Statement for format preferences for <a href="https://www.loc.gov/preservation/resources/rfs/audio.html">Audio Works</a>.
		</fdd:preference>
	</fdd:localUse>
	<fdd:sustainabilityFactors>
		<fdd:disclosure>Developed by <a href="https://www.xiph.org">xiph</a> as an open source and patent-free project.</fdd:disclosure>
		<fdd:documentation>See <fddLink id="fdd000026">Ogg</fddLink> and <fddLink id="fdd000259">SPX_1_2</fddLink>.
		</fdd:documentation>
		<fdd:adoption>See <fddLink id="fdd000026">Ogg</fddLink>.
		</fdd:adoption>
		<fdd:licensingAndPatents>See <fddLink id="fdd000259">SPX_1_2</fddLink>.
		</fdd:licensingAndPatents>
		<fdd:transparency>See <fddLink id="fdd000259">SPX_1_2</fddLink>.
		</fdd:transparency>
		<fdd:selfDocumentation>See <fddLink id="fdd000026">Ogg</fddLink>.
		</fdd:selfDocumentation>
		<fdd:externalDependencies>None.</fdd:externalDependencies>
		<fdd:techProtection>See <fddLink id="fdd000026">Ogg</fddLink>.
		</fdd:techProtection>
	</fdd:sustainabilityFactors>
	<fdd:qualityAndFunctionalityFactors>
		<fdd:soundQF>
			<fdd:normalSound>Good support.</fdd:normalSound>
			<fdd:fidelity>See <fddLink id="fdd000259">SPX_1_2</fddLink>.
			</fdd:fidelity>
			<fdd:channels>See <fddLink id="fdd000259">SPX_1_2</fddLink>.
			</fdd:channels>
			<fdd:samples>None.</fdd:samples>
			<fdd:beyondSound>Not investigated at this time.</fdd:beyondSound>
		</fdd:soundQF>
	</fdd:qualityAndFunctionalityFactors>
	<fdd:fileTypeSignifiers>
		<fdd:signifiersGroup>
			<fdd:filenameExtension>
				<fdd:sigValues>
					<fdd:sigValue>spx</fdd:sigValue>
				</fdd:sigValues>
				<fdd:note>The <a href="https://www.speex.org/docs/manual/speex-manual.pdf">specification</a> states that Speex tools (speexenc, speexdec) do not rely on the extension; any extension will work.</fdd:note>
			</fdd:filenameExtension>
			<fdd:internetMediaType>
				<fdd:sigValues>
					<fdd:sigValue>audio/x-speex</fdd:sigValue>
				</fdd:sigValues>
				<fdd:note>For Speex-in-Ogg, from the main part of the <a href="https://www.speex.org/docs/manual/speex-manual.pdf">specification</a>.  However, the recommended practice now seems to use the codecs parameter as described in <a href="https://www.rfc-editor.org/rfc/rfc5334.txt">RFC 5334</a>.
				</fdd:note>
			</fdd:internetMediaType>
			<fdd:internetMediaType>
				<fdd:sigValues>
					<fdd:sigValue>audio/ogg; codecs=speex

					</fdd:sigValue>
				</fdd:sigValues>
				<fdd:note>From <a href="https://www.rfc-editor.org/rfc/rfc5334.txt">RFC 5334</a>.
				</fdd:note>
			</fdd:internetMediaType>
			<fdd:internetMediaType>
				<fdd:sigValues>
					<fdd:sigValue>audio/speex</fdd:sigValue>
				</fdd:sigValues>
				<fdd:note>Proposed in various drafts of <i>RTP Payload Format for the Speex Codec</i>. e.g., http://www.ietf.org/internet-drafts/draft-ietf-avt-rtp-speex-05.txt (obsolete and hence not actively linked from this format description).</fdd:note>
			</fdd:internetMediaType>
			<fdd:magicNumbers>
				<fdd:sigValues>
					<fdd:sigValue>Hex: 4F 67 67 53 00 02 00 00 00 00 00 00 00 00</fdd:sigValue>
					<fdd:sigValue>ASCII: OggS</fdd:sigValue>
				</fdd:sigValues>
				<fdd:note>See also <a href="#notes">Notes</a> below.</fdd:note>
			</fdd:magicNumbers>
			<fdd:other>
				<fdd:tag>Other</fdd:tag>
				<fdd:values>
					<fdd:sigValues>
						<fdd:sigValue>Speex   </fdd:sigValue>
					</fdd:sigValues>
					<fdd:note>Ogg Codec Identifier.  An 8-character string, with 3 trailing spaces, used within <fddLink id="fdd000026">Ogg</fddLink> container, at beginning of first header page to identify codec.  See notes below and <a href="https://www.rfc-editor.org/rfc/rfc5334.txt">IETF RFC 5334</a>
					</fdd:note>
				</fdd:values>
			</fdd:other>
			<fdd:other>
				<fdd:tag>Pronom PUID</fdd:tag>
				<fdd:values>
					<fdd:sigValues>
						<fdd:sigValue>fmt/948</fdd:sigValue>
					</fdd:sigValues>
					<fdd:note>See <a href="http://www.nationalarchives.gov.uk/PRONOM/fmt/948">http://www.nationalarchives.gov.uk/PRONOM/fmt/948</a>.
					</fdd:note>
				</fdd:values>
			</fdd:other>
			<fdd:other>
				<fdd:tag>Wikidata Title ID</fdd:tag>
				<fdd:values>
					<fdd:sigValues>
						<fdd:sigValue>Q930667</fdd:sigValue>
					</fdd:sigValues>
					<fdd:note>See <a href="https://www.wikidata.org/wiki/Q930667">https://www.wikidata.org/wiki/Q930667</a>.
					</fdd:note>
				</fdd:values>
			</fdd:other>
		</fdd:signifiersGroup>
	</fdd:fileTypeSignifiers>
	<fdd:notes>
		<fdd:general>Regarding file type signifiers, from the <a href="https://www.speex.org/docs/manual/speex-manual.pdf">Speex specification</a>: The first packet of the Ogg_SPX file contains the Speex header [presented in table 7.1 on page 25]. All integer fields in the headers are stored as little-endian. The speex_string field must contain the [Speex with 3 trailing spaces], which identifies the bit-stream. The next field, speex_version contains the version of Speex that encoded the file. For now, refer to speex_header.[ch] for more info. The beginning of stream (b_o_s) flag is set to 1 for the header. The header packet has packetno=0 and granulepos=0. The second packet contains the Speex comment header. The format used is the Vorbis comment format described here: <a href="https://xiph.org/vorbis/doc/v-comment.html">https://xiph.org/vorbis/doc/v-comment.html</a>. This packet has packetno=1 and granulepos=0. The third and subsequent packets each contain one or more (number found in header) Speex frames. These are identified with packetno starting from 2 and the granulepos is the number of the last sample encoded in that packet. The last of these packets has the end of stream (e_o_s) flag is set to 1.</fdd:general>
	</fdd:notes>
	<fdd:formatSpecifications>
		<fdd:urls>
			<fdd:url>
				<fdd:urlReference>
					<link>https://www.xiph.org/vorbis/doc/</link>
					<tag>Ogg Vorbis documentation menu</tag>
					<comment>Includes general information about Ogg files.</comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://www.speex.org/docs/manual/speex-manual.pdf</link>
					<tag>The Speex Codec Manual,
Version 1.3 Beta 3, December 8, 2007</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://www.ietf.org/rfc/rfc5334.txt</link>
					<tag>IETF RFC 5334, Ogg Media Types</tag>
					<comment>September 2008</comment>
				</fdd:urlReference>
			</fdd:url>
		</fdd:urls>
	</fdd:formatSpecifications>
	<fdd:usefulReferences>
		<fdd:urls>
			<fdd:url>
				<fdd:urlReference>
					<link>https://www.xiph.org/vorbis/doc/oggstream.html</link>
					<tag>Ogg logical and physical bitstream overview</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://www.xiph.org/vorbis/doc/framing.html</link>
					<tag>Ogg logical bitstream framing</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>http://www.nationalarchives.gov.uk/pronom/fmt/948</link>
					<tag>PRONOM entry for fmt/948</tag>
					<comment>Information in PRONOM from UK National Archives about Ogg Speex Codec Multimedia File. PUID: fmt/948.</comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://www.wikidata.org/wiki/Q930667</link>
					<tag>Wikidata entry for Q930667</tag>
					<comment>Information in Wikidata about Speex. Wikidata Title ID: Q930667.</comment>
				</fdd:urlReference>
			</fdd:url>
		</fdd:urls>
	</fdd:usefulReferences>
</fdd:FDD>
