<?xml version="1.0" encoding="UTF-8"?>
<fdd:FDD id="fdd000458" titleName="RAR Archive File Format, Version 4" shortName="RAR4" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:fdd="http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1" xsi:schemaLocation="http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1 http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1/fdd-v1-2.xsd">
	<fdd:properties>
		<fdd:gdfrGenreSelection>
			<fdd:gdfrGenre>aggregate</fdd:gdfrGenre>
		</fdd:gdfrGenreSelection>
		<fdd:formatCategories>
			<fdd:category>file-format</fdd:category>
		</fdd:formatCategories>
		<fdd:gdfrComposition>container-bundle</fdd:gdfrComposition>
		<fdd:gdfrTransform>compression</fdd:gdfrTransform>
		<fdd:updates>
			<fdd:date>2017-03-28</fdd:date>
		</fdd:updates>
		<fdd:draftStatus>Full</fdd:draftStatus>
	</fdd:properties>
	<fdd:identificationAndDescription>
		<fdd:fullName>RAR Archive File Format, Version 4</fdd:fullName>
		<fdd:description>
			<p>
				<b>R</b>oshal <b>AR</b>chive format version 4 (RAR4) is sometimes also referred to as version 2.9. <a href="http://www.nationalarchives.gov.uk/pronom/fmt/411">PRONOM fmt/411</a> uses the title version 2.9 but <a href="http://www.rarlab.com/download.htm">WinRAR 5.0 and RAR for Android</a> refer to this format as RAR4. See <fddLink id="fdd000450">RAR_Family</fddLink> for details on the file structure.</p>
			<p>Some of the key features of RAR4 include</p>
			<ul>
				<li>Default size of the RAR compression dictionary is 4 MB</li>
				<li>Encryption of both file data and file headers</li>
				<li>Change in file extensions from  {volume name}.rar, {volume name}.r00, {volume name}.r01, etc. to {volume name}.part001.rar, {volume name}.part002.rar, etc</li>
				<li>File names and archive comments are stored in UTF-16 encoding format</li>
				<li>Improved compression over previous versions because the compression dictionary is increased to 4 MB</li>
				<li>Support for archive files larger than 9 GB</li>
			</ul>
		</fdd:description>
		<fdd:shortDescription>
		</fdd:shortDescription>
		<fdd:productionPhase>See <fddLink id="fdd000450">RAR_Family</fddLink>
		</fdd:productionPhase>
		<fdd:relationships>
			<fdd:relationship>
				<fdd:typeOfRelationship>Subtype of</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000450</fdd:id>
					<fdd:shortName>RAR_Family</fdd:shortName>
					<fdd:titleName>RAR Archive File Format Family</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>Has earlier version</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000459</fdd:id>
					<fdd:shortName>RAR3</fdd:shortName>
					<fdd:titleName>RAR Archive File Format, Version 3</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>Has later version</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000460</fdd:id>
					<fdd:shortName>RAR5</fdd:shortName>
					<fdd:titleName>RAR Archive File Format, Version 5</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
		</fdd:relationships>
	</fdd:identificationAndDescription>
	<fdd:localUse>
		<fdd:experience>See <fddLink id="fdd000450">RAR_Family</fddLink>. </fdd:experience>
		<fdd:preference>None</fdd:preference>
	</fdd:localUse>
	<fdd:sustainabilityFactors>
		<fdd:disclosure>See <fddLink id="fdd000450">RAR_Family</fddLink>
		</fdd:disclosure>
		<fdd:documentation>See <fddLink id="fdd000450">RAR_Family</fddLink>.</fdd:documentation>
		<fdd:adoption>See <fddLink id="fdd000450">RAR_Family</fddLink>
		</fdd:adoption>
		<fdd:licensingAndPatents>See <fddLink id="fdd000450">RAR_Family</fddLink>
		</fdd:licensingAndPatents>
		<fdd:transparency>See <fddLink id="fdd000450">RAR_Family</fddLink>
		</fdd:transparency>
		<fdd:selfDocumentation>See <fddLink id="fdd000450">RAR_Family</fddLink>
		</fdd:selfDocumentation>
		<fdd:externalDependencies>See <fddLink id="fdd000450">RAR_Family</fddLink>
		</fdd:externalDependencies>
		<fdd:techProtection>See <fddLink id="fdd000450">RAR_Family</fddLink>
		</fdd:techProtection>
	</fdd:sustainabilityFactors>
	<fdd:qualityAndFunctionalityFactors>
		<fdd:otherQF>
			<fdd:factor>
				<fdd:tag>Bundling/compression</fdd:tag>
				<fdd:note>See <fddLink id="fdd000450">RAR_Family</fddLink>
				</fdd:note>
			</fdd:factor>
		</fdd:otherQF>
	</fdd:qualityAndFunctionalityFactors>
	<fdd:fileTypeSignifiers>
		<fdd:signifiersGroup>
			<fdd:filenameExtension>
				<fdd:sigValueNA>See note.</fdd:sigValueNA>
				<fdd:note>See <fddLink id="fdd000450">RAR_Family</fddLink>
				</fdd:note>
			</fdd:filenameExtension>
			<fdd:internetMediaType>
				<fdd:sigValueNA>See note.</fdd:sigValueNA>
				<fdd:note>See <fddLink id="fdd000450">RAR_Family</fddLink>
				</fdd:note>
			</fdd:internetMediaType>
			<fdd:other>
				<fdd:tag>File signature</fdd:tag>
				<fdd:values>
					<fdd:sigValues>
						<fdd:sigValue>Hex: 52 61 72 21 1A 07 00</fdd:sigValue>
						<fdd:sigValue>ASCII: Rar!</fdd:sigValue>
					</fdd:sigValues>
					<fdd:note>
						<a href="https://en.wikipedia.org/wiki/RAR_(file_format)">Wikipedia</a> states that this magic number is applicable for RAR1.5 - RAR4 although <a href="https://web.archive.org/web/20221112073316/https://www.garykessler.net/library/file_sigs.html">Gary Kessler&apos;s File Signature Table</a> and <a href="http://www.rarlab.com/technote.htm#rarsign">RAR 5.0 archive format tech note</a> only specifically list this magic number for RAR4, not earlier versions. <a href="http://acritum.com/winrar/rar-format">Acritum Software's</a> description of RAR version 3.93 (not described at this site) lists this value for all versions since RAR1.5.</fdd:note>
				</fdd:values>
			</fdd:other>
			<fdd:other>
				<fdd:tag>Pronom PUID</fdd:tag>
				<fdd:values>
					<fdd:sigValues>
						<fdd:sigValue>fmt/411</fdd:sigValue>
					</fdd:sigValues>
					<fdd:note>PRONOM labels this as RAR version 2.9 but other documentation including WinRAR 5.0 and RAR for Android refer to this version as RAR4. See <a href="http://www.nationalarchives.gov.uk/PRONOM/fmt/411">http://www.nationalarchives.gov.uk/PRONOM/fmt/411</a>
					</fdd:note>
				</fdd:values>
			</fdd:other>
			<fdd:other>
				<fdd:tag>Wikidata Title ID</fdd:tag>
				<fdd:values>
					<fdd:sigValueNA>See note.</fdd:sigValueNA>
					<fdd:note>See <fddLink id="fdd000450">RAR_Family</fddLink>.</fdd:note>
				</fdd:values>
			</fdd:other>
		</fdd:signifiersGroup>
	</fdd:fileTypeSignifiers>
	<fdd:notes>
		<fdd:general>See <fddLink id="fdd000450">RAR_Family</fddLink>.</fdd:general>
		<fdd:history>See <fddLink id="fdd000450">RAR_Family</fddLink>.</fdd:history>
	</fdd:notes>
	<fdd:formatSpecifications>
		<fdd:urls>
			<fdd:url>
				<fdd:urlReference>
					<link>http://www.forensicswiki.org/w/images/5/5b/RARFileStructure.txt</link>
					<tag>RAR version 4.11 - Technical information</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlGroup>
					<fdd:intro>See <fddLink id="fdd000450">RAR_Family</fddLink>
					</fdd:intro>
				</fdd:urlGroup>
			</fdd:url>
		</fdd:urls>
	</fdd:formatSpecifications>
	<fdd:usefulReferences>
		<fdd:urls>
			<fdd:url>
				<fdd:urlGroup>
					<fdd:intro>See <fddLink id="fdd000450">RAR_Family</fddLink>
					</fdd:intro>
				</fdd:urlGroup>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>http://www.nationalarchives.gov.uk/pronom/fmt/411</link>
					<tag>PRONOM entry for fmt/411</tag>
					<comment>Information in PRONOM from UK National Archives about RAR4 (labeled as version 2.9). PUID: fmt/411.</comment>
				</fdd:urlReference>
			</fdd:url>
		</fdd:urls>
	</fdd:usefulReferences>
</fdd:FDD>
