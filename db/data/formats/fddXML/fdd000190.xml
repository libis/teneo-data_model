<?xml version="1.0" encoding="UTF-8"?>
<fdd:FDD id="fdd000190" titleName="AVI OpenDML with DV Digital Video" shortName="AVI_DV" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:fdd="http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1" xsi:schemaLocation="http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1 http://www.loc.gov/preservation/digital/formats/schemas/fdd/v1/fdd-v1-1.xsd">
	<fdd:properties>
		<fdd:gdfrGenreSelection>
			<fdd:gdfrGenre>moving-image</fdd:gdfrGenre>
		</fdd:gdfrGenreSelection>
		<fdd:formatCategories>
			<fdd:category>file-format</fdd:category>
		</fdd:formatCategories>
		<fdd:gdfrComposition>unitary</fdd:gdfrComposition>
		<fdd:gdfrForm>binary</fdd:gdfrForm>
		<fdd:gdfrConstraint>unstructured</fdd:gdfrConstraint>
		<fdd:gdfrBasis>sampled</fdd:gdfrBasis>
		<fdd:updates>
			<fdd:date>2016-03-02</fdd:date>
		</fdd:updates>
		<fdd:draftStatus>Full</fdd:draftStatus>
	</fdd:properties>
	<fdd:identificationAndDescription>
		<fdd:fullName>AVI OpenDML with DV Digital Video</fdd:fullName>
		<fdd:keywords>
			<fdd:keyword>video formats</fdd:keyword>
			<fdd:keyword>AVI</fdd:keyword>
			<fdd:keyword>OpenDML</fdd:keyword>
			<fdd:keyword>DV digital video</fdd:keyword>
		</fdd:keywords>
		<fdd:description>
			<p>File format that wraps a DV video bitstream in an AVI OpenDML wrapper. Microsoft has supported the development of <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/dd407250%28v=vs.85%29.aspx">two types of DV-AVI files</a> that offer specialized formatting for DV codecs:<br/>
Type 1: The multiplexed Audio-Video is kept in its original multiplexing and saved together into the Video section of the AVI file.  The audio is saved uncompressed.<br/>
Type 2: Like type 1, with the audio carried as an additional audio stream.<br/>The Wikipedia article <a href="https://en.wikipedia.org/wiki/Audio_Video_Interleave">Audio Video Interleave</a> (consulted March 2, 2016) reports that &#8220;Type 1 is actually the newer of the two types. Microsoft made the <i>type</i> designations, and decided to name their older VfW-compatible version <i>Type 2,</i> which only furthered confusion about the two types. In the late 1990s through early 2000s, most professional-level DV software, including non-linear editing programs, only supported Type 1. One notable exception was Adobe Premiere, which only supported Type 2. High-end FireWire controllers usually captured to Type 1 only, while 'consumer' level controllers usually captured to Type 2 only.&#8221;  The abbreviation <i>VfW</i> stands for Video for Windows, introduced in 1992 as a response to Apple&apos;s then-new QuickTime technology.</p>
		</fdd:description>
		<fdd:shortDescription>File format that wraps a DV video bitstream in an AVI OpenDML wrapper. Microsoft has supported the development of two types of DV-AVI files.</fdd:shortDescription>
		<fdd:productionPhase>
			<p>Generally a middle-state format.</p>
		</fdd:productionPhase>
		<fdd:relationships>
			<fdd:relationship>
				<fdd:typeOfRelationship>Subtype of</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000442</fdd:id>
					<fdd:shortName>AVI_OpenDML_1_02</fdd:shortName>
					<fdd:titleName>AVI File Format with OpenDML Extensions, Version 1.02</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>Contains</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000183</fdd:id>
					<fdd:shortName>DV</fdd:shortName>
					<fdd:titleName>Digital Video Encoding (DV, DVCAM, DVCPRO)</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>May contain</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000001</fdd:id>
					<fdd:shortName>WAVE</fdd:shortName>
					<fdd:titleName>WAVE Audio File Format</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
			<fdd:relationship>
				<fdd:typeOfRelationship>May contain</fdd:typeOfRelationship>
				<fdd:relatedTo>
					<fdd:id>fdd000070</fdd:id>
					<fdd:shortName>MP3_CBR</fdd:shortName>
					<fdd:titleName>MP3, Constant Bit Rate</fdd:titleName>
				</fdd:relatedTo>
			</fdd:relationship>
		</fdd:relationships>
	</fdd:identificationAndDescription>
	<fdd:localUse>
		<fdd:preference>See <fddLink id="fdd000059">AVI</fddLink>
		</fdd:preference>
	</fdd:localUse>
	<fdd:sustainabilityFactors>
		<fdd:disclosure>See <fddLink id="fdd000059">AVI</fddLink>, <fddLink id="fdd000442">AVI_OpenDML_1_02</fddLink>, and <fddLink id="fdd000183">DV</fddLink>
		</fdd:disclosure>
		<fdd:documentation>See <fddLink id="fdd000059">AVI</fddLink>, <fddLink id="fdd000442">AVI_OpenDML_1_02</fddLink>, and <fddLink id="fdd000183">DV</fddLink>
		</fdd:documentation>
		<fdd:adoption>See <fddLink id="fdd000059">AVI</fddLink>, <fddLink id="fdd000442">AVI_OpenDML_1_02</fddLink>, and <fddLink id="fdd000183">DV</fddLink>
		</fdd:adoption>
		<fdd:licensingAndPatents>See <fddLink id="fdd000059">AVI</fddLink>, <fddLink id="fdd000442">AVI_OpenDML_1_02</fddLink>, and <fddLink id="fdd000183">DV</fddLink>
		</fdd:licensingAndPatents>
		<fdd:transparency>See <fddLink id="fdd000059">AVI</fddLink>, <fddLink id="fdd000442">AVI_OpenDML_1_02</fddLink>, and <fddLink id="fdd000183">DV</fddLink>
		</fdd:transparency>
		<fdd:selfDocumentation>See <fddLink id="fdd000059">AVI</fddLink> and <fddLink id="fdd000442">AVI_OpenDML_1_02</fddLink>
		</fdd:selfDocumentation>
		<fdd:externalDependencies>See <fddLink id="fdd000059">AVI</fddLink> and <fddLink id="fdd000442">AVI_OpenDML_1_02</fddLink>
		</fdd:externalDependencies>
		<fdd:techProtection>See <fddLink id="fdd000059">AVI</fddLink> and <fddLink id="fdd000442">AVI_OpenDML_1_02</fddLink>
		</fdd:techProtection>
	</fdd:sustainabilityFactors>
	<fdd:qualityAndFunctionalityFactors>
		<fdd:movingImageQF>
			<fdd:normalVideo>Good support.</fdd:normalVideo>
			<fdd:clarity>Moderate to good, depending on the specific DV type selected.</fdd:clarity>
			<fdd:beyondVideo>See <fddLink id="fdd000059">AVI</fddLink> and <fddLink id="fdd000442">AVI_OpenDML_1_02</fddLink>
			</fdd:beyondVideo>
		</fdd:movingImageQF>
	</fdd:qualityAndFunctionalityFactors>
	<fdd:fileTypeSignifiers>
		<fdd:signifiersGroup>
			<fdd:filenameExtension>
				<fdd:sigValues>
					<fdd:sigValue>avi</fdd:sigValue>
				</fdd:sigValues>
			</fdd:filenameExtension>
			<fdd:internetMediaType>
				<fdd:sigValueNA>See related format.</fdd:sigValueNA>
				<fdd:note>See <fddLink id="fdd000059">AVI</fddLink> and <fddLink id="fdd000442">AVI_OpenDML_1_02</fddLink>
				</fdd:note>
			</fdd:internetMediaType>
			<fdd:magicNumbers>
				<fdd:sigValueNA>See related format.</fdd:sigValueNA>
				<fdd:note>See <fddLink id="fdd000059">AVI</fddLink> and <fddLink id="fdd000442">AVI_OpenDML_1_02</fddLink>
				</fdd:note>
			</fdd:magicNumbers>
			<fdd:other>
				<fdd:tag>Microsoft FOURCC</fdd:tag>
				<fdd:values>
					<fdd:sigValues>
						<fdd:sigValue>dvsd</fdd:sigValue>
						<fdd:sigValue>dvhd</fdd:sigValue>
						<fdd:sigValue>dvsl</fdd:sigValue>
					</fdd:sigValues>
					<fdd:note>
						<p>The Microsoft page titled <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/dd388641%28v=vs.85%29.aspx">DV Data in the AVI File Format</a> states, for type 1 files: DV data can be stored in a single stream within an AVI RIFF file by specifying the 'iavs' (interleaved audio and video stream) FOURCC (four-character code) in the fccType member and either of the 'dvsd', 'dvhd', or 'dvsl' FOURCCs in the fccHandler member of the 'strh' stream header chunk. . . .  The 'dvsd' stream handler FOURCC specifies that the DV data is as defined in Part 2 of the Specification of Consumer-use Digital VCRs. Video is in the format of 525 lines at 29.97 Hz (525-60) or 625 lines at 25.00 Hz (625-50).  The 'dvhd' stream handler FOURCC specifies that the DV data is as defined in Part 3 of the Specification of Consumer-use Digital VCRs. Video is in the format of 1125 lines at 30.00 Hz (1125-60) or 1250 lines at 25.00 Hz (1250-50). The 'dvsl' stream handler FOURCC specifies that the DV data is as defined in Part 6 of Specification of Consumer-use Digital VCRs. Video is in the format of high-compression SD (SDL).</p>
						<p>For type 2 files: DV data can be stored as a video stream with a separate number of audio streams  . . . .  The video stream is specified with a standard video stream header (the fccType member value is 'vids'). The fccHandler member is specified as 'dvsd', 'dvhd', or 'dvsl'. The frames per second of the video stream must be specified in the dwRate and dwScale members and the total number of video blocks in the 'movi' chunk in the dwLength member. In this AVI file containing DV video as a 'vids' stream and DV audio as 'auds' streams form of DV, the video stream format chunk is a standard BITMAPINFOHEADER structure. </p>
					</fdd:note>
				</fdd:values>
			</fdd:other>
		</fdd:signifiersGroup>
	</fdd:fileTypeSignifiers>
	<fdd:usefulReferences>
		<fdd:urls>
			<fdd:url>
				<fdd:urlReference>
					<link>http://sites.utoronto.ca/ski/water/software/vj/avi.html</link>
					<tag>John McGowan's AVI Overview</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>http://sites.utoronto.ca/ski/water/software/vj/avi.html#Codec</link>
					<tag>John McGowan's AVI Audio and Video Codecs</tag>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>https://msdn.microsoft.com/en-us/library/windows/desktop/dd388641%28v=vs.85%29.aspx </link>
					<tag>DV Data in the AVI File Format</tag>
					<comment>Thorough and complete information from Microsoft.</comment>
				</fdd:urlReference>
			</fdd:url>
			<fdd:url>
				<fdd:urlReference>
					<link>http://www.fourcc.org/codecs.php</link>
					<tag>List of FOURCC codes</tag>
					<comment>FOURCC codes were originally managed in a registry by Microsoft, but have been superseded by a more general mechanism to identify media types.</comment>
				</fdd:urlReference>
			</fdd:url>
		</fdd:urls>
	</fdd:usefulReferences>
</fdd:FDD>
